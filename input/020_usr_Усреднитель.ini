[Settings]
Name=USR
Address=3
PeriodMain=0
BreakMain=0
PeriodRezerv=0
BreakRezerv=0
Description=Усреднители
MaxErrors=3
BufferWriteDelay=0
NBTimeout=10

//Name= Type(R/W), [LinkFlag], [LinkMask], Descr, Period(s), Func, [Param1, Param2, ...]
[NetBios]
// данные измерений
//        0,1,1,0,25
//        | | | | |
//        | | | | |
//        | | | | +----- число параметров
//        | | | |
//        | | | +------- смещение
//        | | |
//        | | +--------- № таблицы
//        | +----------- № параметра
//        +------------- № архива
//№ архива:
// 1 - интегральные
// 2 - средние
// 3 - счетчики
// 4 - регистратор дискретн. события
// 5 - время включения дискретного переметра
// 6 - регистратор аналоговых событий

//коды функций:
// &h40 - чтение ИНР
// &h00 - Астановка входа Алгоблока
// &h10 - чтение архива
// &h11 - чтение часов
// &h12 - установка часов
// &h1A - ДКМ

$2=      R, ,,INR_1,    0,         &h40,  0

$3=      R, ,,Чтение Inr2,    0,    &h40,  1

//$15=     R, ,,Чтение таймера/календаря,    0,   &h11
//$16=     W, ,,Установка таймер/календвря,  0,   &h12

//Запись коэффициента (установка входа а/б)
//..........|..............|..........|......|№ алгоритма
// ИПВ 30
$30=     W, ,,IPV_30,   0,         &h00,  30

//описание функции ДКМ
//..........|..............|..........|......|№ алгоритма ДКМ
//Управление
$32=	W, ,,DKO_32,	    0,         &h1A,  32


//------------------ Archives-------------------------------------------

//%key%=(Mask1,Value1), (Mask2, Value2)
[Selectors]
//задвижки без двигателя
//    средн.   откр.   закр.  авр.неверн.код
//vlv21=&h00,3, &h01,2, &h02,1, &h03, 0


//%key%=(TagName),[Parent],(Type),Description,InBuffer,InBufferOffset,[k,b],[Selector/BoolMask/NullZone],[OutBuffer, OutBufferOffset],[Default],[DefaultMin],[DefaultMax],[Hysteresis],[InType],[OutType],[LinkFlag],[LinkMask]
[Tags]
//Tag000=Timer,    USR,Date,  Таймер/календарь,     $15, 0,,,,$16,0

// ------------------------------ Усреднители ---------------------------------

//Аналоговые сигналы
           
Tag001=HA1_P,   	USR, Single, Давление после НА 1,      $2,   40, 1,0,,,,,1,100
Tag002=HA2_P,   	USR, Single, Давление после НА 2,      $2,   44, 1,0,,,,,1,100

Tag005=F1,   		USR, Single, Расходомер,         	$2,   52, 10,0,,,,,1,100
Tag006=HA1_I,   	USR, Single, Ток НА1,         		$2,   56, 1,0,,,,,1,100
Tag007=HA2_I,   	USR, Single, Ток НА2,         		$2,   60, 1,0,,,,,1,100

//Дискретные входы 1

Tag200=HA1_Rdy,    	USR,Boolean ,Насос1 Готовность,   		$2,  0,,,&h01
Tag201=HA1_Run,    	USR,Boolean ,Насос1 Работа,    		$2,  0,,,&h02
Tag202=HA1_Alr,   	USR,Boolean ,Насос1 Авария,    		$2,  0,,,&h04
Tag203=HA1_Rem,   	USR,Boolean ,Насос1 Местное/Дистанционное,    	$2,  0,,,&h08

Tag208=G1,    		USR,Boolean ,Питание G1,   			$2,  1,,,&h01
Tag209=G2,    		USR,Boolean ,Питание G2,   			$2,  1,,,&h02


Tag211=RZV1_LUp,    	USR,Boolean ,Ёмк1УровеньВерх,   	$2,  1,,,&h04
Tag212=RZV1_LHalf,   	USR,Boolean ,Ёмк1УровеньСред,   	$2,  1,,,&h08
Tag213=RZV1_LMin,    	USR,Boolean ,Ёмк1УровеньМин,   	$2,  1,,,&h10

Tag214=HA2_Rdy,    	USR,Boolean ,Насос3 Готовность,   		$2,  1,,,&h20
Tag215=HA2_Run,    	USR,Boolean ,Насос3 Работа,    		$2,  1,,,&h40
Tag216=HA2_Alr,    	USR,Boolean ,Насос3 Авария,    		$2,  1,,,&h80
Tag217=HA2_Rem,   	USR,Boolean ,Насос3 Местное/Дистанционное,    	$2,  2,,,&h01

Tag226=HA1_Main,   	USR,Boolean ,Насос1 Основной/Резервный,    	$2,  3,,,&h01
Tag227=HA2_Main,   	USR,Boolean ,Насос2 Основной/Резервный,    	$2,  3,,,&h02

Tag230=RZV1_Max,	   	USR,Boolean ,Ёмк1УровеньАвар,   		$2,  3,,,&h10
Tag233=RZV2_LUp,    	USR,Boolean ,Ёмк2УровеньВерх,   	$2,  3,,,&h20
Tag234=RZV2_LHalf,    	USR,Boolean ,Ёмк2УровеньСред,   	$2,  3,,,&h40
Tag235=RZV2_LMin,    	USR,Boolean ,Ёмк2УровеньМин,   	$2,  3,,,&h80

//Дискретные входы 2

Tag236=RZV2_Max,    	USR,Boolean ,Ёмк2УровеньАвар,   		$2,  4,,,&h01
Tag237=DR_Max,    	USR,Boolean ,ДренажУровеньАвар,   		$2,  4,,,&h02

Tag264=Z4_opn,    	USR,Boolean ,Затвор 4 открыт,   		$2,  5,,,&h01
Tag265=Z4_cls,    	USR,Boolean ,Затвор 4 закрыт,   		$2,  5,,,&h02
Tag266=Z4_rem,    	USR,Boolean ,Затвор 4 Местное/Дистанционное,   $2,  5,,,&h04
Tag267=Z4_alr,    	USR,Boolean ,Затвор 4 Авария,   		$2,  5,,,&h08


//Состояние задвижек

Tag400=Z4_pos,    	USR,Integer ,Затвор 4 положение,   		$2,  104
Tag403=Z4_stat,    	USR,Integer ,Затвор 4 состояние,   		$2,  106,,,,$32,0

Tag420=HA1,    		USR,Integer ,НА 1 состояние,   		$2,  80,,,,$32,0
Tag421=HA2,    		USR,Integer ,НА 2 состояние,   		$2,  82,,,,$32,0

Tag450=USR_mode,    	USR,Single ,Режим откл. по мин. уровню 0-нет 1- Сг1. 2-Сг2. 3 - Сг1 и Сг2,   		$2,  156,,,,$30,40

TagINR2_1=MCR_A1,   	USR, Single, МЦР1_аналог1 ,      $3,   0, 1,0,,,,,1,100
TagINR2_2=MCR_A2,   	USR, Single, МЦР1_аналог2 ,      $3,   4, 1,0,,,,,1,100
TagINR2_3=MCR_A3,   	USR, Single, МЦР1_аналог3 ,      $3,   8, 1,0,,,,,1,100
TagINR2_4=MCR_A4,   	USR, Single, МЦР1_аналог4 ,      $3,   12, 1,0,,,,,1,100
TagINR2_5=MCR_A5,   	USR, Single, МЦР1_аналог5 ,      $3,   16, 1,0,,,,,1,100
TagINR2_6=MCR_A6,   	USR, Single, МЦР1_аналог6 ,      $3,   20, 6,0,,,,,1,500
TagINR2_7=MCR_A7,   	USR, Single, МЦР1_аналог7 ,      $3,   24, 6,0,,,,,1,500
TagINR2_8=MCR_A8,   	USR, Single, МЦР1_аналог8 ,      $3,   28, 1,0,,,,,1,100