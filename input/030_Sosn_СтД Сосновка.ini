[Settings]
Name=sosn
Address=1
PeriodMain=3600 //
//PeriodMain=0
BreakMain=1
//BreakMain=0
PeriodRezerv=0
BreakRezerv=0
Description= Сосновка
MaxErrors=5
BufferWriteDelay=0
NBTimeout=15

//Name= Type(R/W), [LinkFlag], [LinkMask], Descr, Period(s), Func, [Param1, Param2, ...]
[NetBios]
// данные измерений
//        0,1,1,0,25
//        | | | | |
//        | | | | |
//        | | | | +----- число параметров
//        | | | |
//        | | | +------- смещение
//        | | |
//        | | +--------- № таблицы
//        | +----------- № параметра
//        +------------- № архива
//№ архива:
// 1 - интегральные
// 2 - средние
// 3 - счетчики
// 4 - дискретн. события
// 5 - время включения дискретного переметра

//коды функций:
// &h40 - чтение ИНР
// &h00 - установка входа Алгоблока
// &h10 - чтение архива
// &h11 - чтение часов
// &h12 - установка часов
$0=     R, ,,Чтение Inr1,   0,         &h40,  0
$1=     R, ,,Чтение Inr2,   0,         &h40,  1
$2=     W, ,,Управление,    0,         &h00,  2

$5=     R, ,,Чтение таймера/календаря,       0,       &h11
$6=     W, ,,Установка таймера/календаря,    0,       &h12

$7=     W, ,,Управление,    0,         &h00,  6
//$8=     R, ,,Чтение Inr3,   0,         &h40,  2
//$9=     R, ,,Чтение Inr4,   0,         &h40,  3

//----------------- Archives -----------------------------------------

$HH1_0=     R, ,,Расход CK1(0-11),         0,       &h10,  1,1,1,0,12
$HH1_12=    R, ,,Расход CK1(12-23),        0,       &h10,  1,1,1,12,12
//$HH1_24=    R, ,,Расход CK1(24-35),        0,       &h10,  1,1,1,24,12
//$HH1_36=    R, ,,Расход CK1(36-47),        0,       &h10,  1,1,1,36,12

$HH2_0=     R, ,,Расход CK2(0-11),         0,       &h10,  1,2,1,0,12
$HH2_12=    R, ,,Расход CK2(12-23),        0,       &h10,  1,2,1,12,12
//$HH2_24=    R, ,,Расход CK2(24-35),        0,       &h10,  1,2,1,24,12
//$HH2_36=    R, ,,Расход CK2(36-47),        0,       &h10,  1,2,1,36,12

$HH3_0=     R, ,,Расход CT(0-11),         0,       &h10,  1,3,1,0,12
$HH3_12=    R, ,,Расход CT(12-23),        0,       &h10,  1,3,1,12,12
//$HH3_24=    R, ,,Расход CT(24-35),        0,       &h10,  1,3,1,24,12
//$HH3_36=    R, ,,Расход CT(36-47),        0,       &h10,  1,3,1,36,12

$HH4_0=     R, ,,Расход Cpr(0-11),         0,       &h10,  1,4,1,0,12
$HH4_12=    R, ,,Расход Cpr(12-23),        0,       &h10,  1,4,1,12,12
//$HH4_24=    R, ,,Расход Cpr(24-35),        0,       &h10,  1,4,1,24,12
//$HH4_36=    R, ,,Расход Cpr(36-47),        0,       &h10,  1,4,1,36,12



$TH1_0=     R, ,,Наработка НА1(0-24),         0,       &h10,  5,1,1,0,25
$TH1_25=    R, ,,Наработка НА1(25-50),        0,       &h10,  5,1,1,25,25

$TH2_0=     R, ,,Наработка НА2(0-24),         0,       &h10,  5,2,1,0,25
$TH2_25=    R, ,,Наработка НА2(25-50),        0,       &h10,  5,2,1,25,25



//$SH1_0=     R, ,,Среднее (0-24),         0,       &h10,  2,1,1,0,25
//$SH1_25=    R, ,,Среднее (25-50),        0,       &h10,  2,1,1,25,25
//$SH2_0=     R, ,,Среднее (0-24),         0,       &h10,  2,2,1,0,25
//$SH2_25=    R, ,,Среднее (25-50),        0,       &h10,  2,2,1,25,25



//$DH1_0=     R, ,,События биты 0-7(0-24),         0,       &h10,  4,1,1,0,25
//$DH1_25=    R, ,,События биты 0-7(25-49),        0,       &h10,  4,1,1,25,25
//$DH1_50=    R, ,,События биты 0-7(50-74),      0,       &h10,  4,1,1,50,25
//$DH1_75=    R, ,,События биты 0-7(75-99),      0,       &h10,  4,1,1,75,25
//$DH1_100=   R, ,,События биты 0-7(100-124),    0,       &h10,  4,1,1,100,25
//$DH1_125=   R, ,,События биты 0-7(125-149),    0,       &h10,  4,1,1,125,25


//%key%=(Mask1,Value1), (Mask2, Value2)
[Selectors]


//%key%=(TagName),[Parent],(Type),Description,InBuffer,InBufferOffset,[k,b],[Selector/BoolMask/NullZone],[OutBuffer, OutBufferOffset],[Default],[DefaultMin],[DefaultMax],[Hysteresis],[InType],[OutType],[LinkFlag],[LinkMask]
[Tags]
Tag000=Timer,    sosn,Date,  Таймер/календарь,     $5, 0,,,,$6,0

Tag01=MZ_AI1,    sosn,Single, Расход скважина №1 %,      $0,  0, 1,0,,,,,0,100
Tag02=MZ_AI2,    sosn,Single, Расход скважина №2 %,      $0,  4, 1,0,,,,,0,100
Tag03=MZ_AI3,    sosn,Single, Резерв,                   $0,  8, 1,0,,,,,0,100
Tag04=MZ_AI4,    sosn,Single, Резерв,                   $0, 12, 1,0,,,,,0,100

Tag05=Tmk,       sosn,Single, Температура на MK500,       $0, 16


Tag06=MZ_DI1,        sosn,Boolean, Готовность НА1,      $0, 20,,,&h01
Tag07=MZ_DI2,        sosn,Boolean, Вкл. НА1,            $0, 24,,,&h01
Tag08=MZ_DI3,        sosn,Boolean, Готовность НА2,      $0, 28,,,&h01
Tag09=MZ_DI4,        sosn,Boolean, Вкл. НА2,            $0, 32,,,&h01
Tag10=MZ_DI5,        sosn,Boolean, Питание ПТК,         $0, 36,,,&h01
Tag11=MZ_DI6,        sosn,Boolean, Резерв,              $0, 40,,,&h01
Tag12=MZ_DI7,        sosn,Boolean, Резерв,              $0, 44,,,&h01
Tag13=MZ_DI8,        sosn,Boolean, Резерв,              $0, 48,,,&h01

Tag14=MB_Er,        sosn,Boolean, ошибка ModBus,        $0, 52,,,&h01
Tag15=MB_rez,        sosn,Boolean, Резерв,              $0, 56,,,&h01

//наработка насосов в часах
Tag16=N1S(DD),    sosn,Single, Мото/час за текущие сутки,    $0, 60, 1,0
Tag17=N1S(DD-1),  sosn,Single, Мото/час за прошедшие сутки,  $0, 64, 1,0
Tag18=N1S(MM),    sosn,Single, Мото/час за текущий мес.,     $0, 68, 1,0
Tag19=N1S(MM-1),  sosn,Single, Мото/час за прошедший мес.,   $0, 72, 1,0
Tag20=N1S(YY),    sosn,Single, Мото/час за текущий год,      $0, 76, 1,0

Tag21=N2S(DD),    sosn,Single, Мото/час за текущие сутки,    $0, 80, 1,0 
Tag22=N2S(DD-1),  sosn,Single, Мото/час за прошедшие сутки,  $0, 84, 1,0
Tag23=N2S(MM),    sosn,Single, Мото/час за текущий мес.,     $0, 88, 1,0
Tag24=N2S(MM-1),  sosn,Single, Мото/час за прошедший мес.,   $0, 92, 1,0
Tag25=N2S(YY),    sosn,Single, Мото/час за текущий год,      $0, 96, 1,0

Tag26=rez1,        sosn,Single, Резерв,                      $0, 100, 1,0
Tag27=E_SK1,        sosn,Single, Расход скв №1 72 ,          $0, 104, 1,0
Tag28=E_SK2,        sosn,Single, Расход скв №2 72,           $0, 108, 1,0

//с МСД-200 по ModBus

Tag101=Kod84,    sosn,long, Код станции,            $1,  0, 1,0,,,,,0,100
Tag102=Kod65,    sosn,Single, Производительность,     $1,  4, 1,0,,,,,0,100
Tag103=P_in,     sosn,Single, Давление на входе,      $1,  8, 0.1,0,,,,,0,100
Tag104=P_out,    sosn,Single, Давление на выходе,     $1,  12, 0.1,0,,,,,0,100
Tag105=E_in,      sosn,Single, Расход на входе,       $1,  16, 1,0,,,,,0,100
Tag106=E_prom,    sosn,Single, Расход на промывку,    $1,  20, 1,0,,,,,0,100
Tag107=UOV1_v,    sosn,Boolean, УОВ1 вкл,             $1,  24,,,&h01
Tag108=UOV1_a,    sosn,Boolean, УОВ1 авария,          $1,  28,,,&h01
Tag109=UOV1_o,    sosn,Boolean, УОВ1 откл,            $1,  32,,,&h01
Tag110=UOV1_w,    sosn,Boolean, УОВ1 рабочий,         $1,  36,,,&h01
Tag111=UOV1_r,    sosn,Boolean, УОВ1 резервный,       $1,  40,,,&h01
Tag112=UOV2_v,    sosn,Boolean, УОВ2 вкл,             $1,  44,,,&h01
Tag113=UOV2_a,    sosn,Boolean, УОВ2 авария,          $1,  48,,,&h01
Tag114=UOV2_o,    sosn,Boolean, УОВ2 откл,            $1,  52,,,&h01
Tag115=UOV2_w,    sosn,Boolean, УОВ2 рабочий,         $1,  56,,,&h01
Tag116=UOV2_r,    sosn,Boolean, УОВ2 резервный,       $1,  60,,,&h01
Tag117=UOV1_t,    sosn,long, наработка УОВ1,        $1,  64,1,0,,,,,0,100
Tag118=UOV2_t,    sosn,long, наработка УОВ2,        $1,  68,1,0,,,,,0,100
Tag119=Prom,      sosn,Boolean, промывка,             $1,  72,,,,,&h01
Tag120=Alarm,     sosn,Boolean, авария общая,         $1,  76,,,,,&h01

Tag121=Oxr,       sosn,Boolean, контр доступа,       $1,  80,,,,,&h01
Tag122=Fire,     sosn,Boolean, Пожар,                $1,  84,,,,,&h01
Tag123=Prit_z,    sosn,Boolean, шибер прит закр,     $1,  88,,,,,&h01
Tag124=Vit_z,     sosn,Boolean, шибер вытяж закр,    $1,  92,,,,,&h01
Tag125=Ot_v,     sosn,Boolean, обогрев включен,      $1,  96,,,,,&h01
Tag126=F1_b,     sosn,Boolean, фильтр1 блокир,       $1,  100,,,,,&h01
Tag127=F1_r,     sosn,Boolean, фильтр1 работа,       $1,  104,,,,,&h01
Tag128=F1_cp,    sosn,Boolean, фильтр1 сброс давл,   $1,  108,,,,,&h01
Tag129=F1_prom,  sosn,Boolean, фильтр1 промывка,     $1,  112,,,,,&h01
Tag130=F2_b,     sosn,Boolean, фильтр2 блокир,       $1,  116,,,,,&h01
Tag131=F2_r,     sosn,Boolean, фильтр2 работа,       $1,  120,,,,,&h01
Tag132=F2_cp,    sosn,Boolean, фильтр2 сброс давл,   $1,  124,,,,,&h01
Tag133=F2_prom,  sosn,Boolean, фильтр2 промывка,     $1,  128,,,,,&h01
Tag134=T_kont,   sosn,Single, температура конт, $1,  132,1,0,,,,,0,100

//наработка насосов в секундах 

TagM1_00=N1(HH),    sosn,Long, Мото1/час за текущий час,      $1, 156, 1,0
TagM1_01=N1(HH-1),  sosn,Long, Мото1/час за прошедший час,    $1, 160, 1,0
TagM2_00=N2(HH),    sosn,Long, Мото2/час за текущий час,      $1, 164, 1,0
TagM2_01=N2(HH-1),  sosn,Long, Мото2/час за прошедший час,    $1, 168, 1,0

TagQ1_00=CK1,    sosn      ,Single, Мгновенный расход м3/час,   $0, 104,1,0
TagQ1_01=Q(HH),   sosn.CK1,Single, Объем за текущий час,        $0,  116,1,0
TagQ1_02=Q(HH-1), sosn.CK1,Single, Объем за прошедший час,      $0,  120,1,0
TagQ1_03=Q(DD),   sosn.CK1,Single, Объем за текущие сутки,      $0,  124,1,0
TagQ1_04=Q(DD-1), sosn.CK1,Single, Объем за прошедшие сутки,    $0,  128,1,0
TagQ1_05=Q(MM),   sosn.CK1,Single, Объем за текущий месяц,      $0,  132,1,0
TagQ1_06=Q(MM-1), sosn.CK1,Single, Объем за прошедший месяц,    $0,  136,1,0
TagQ1_07=Q(GG),   sosn.CK1,Single, Объем за текущий ГОД,        $0,  140,1,0
TagQ1_08=Q(GG-1), sosn.CK1,Single, Объем за прошедший ГОД,      $0,  144,1,0

TagQ2_00=CK2,    sosn      ,Single, Мгновенный расход м3/час,   $0, 108,1,0
TagQ2_01=Q(HH),   sosn.CK2,Single, Объем за текущий час,        $0,  152,1,0
TagQ2_02=Q(HH-1), sosn.CK2,Single, Объем за прошедший час,      $0,  156,1,0
TagQ2_03=Q(DD),   sosn.CK2,Single, Объем за текущие сутки,      $0,  160,1,0
TagQ2_04=Q(DD-1), sosn.CK2,Single, Объем за прошедшие сутки,    $0,  164,1,0
TagQ2_05=Q(MM),   sosn.CK2,Single, Объем за текущий месяц,      $0,  168,1,0
TagQ2_06=Q(MM-1), sosn.CK2,Single, Объем за прошедший месяц,    $0,  172,1,0
TagQ2_07=Q(GG),   sosn.CK2,Single, Объем за текущий ГОД,        $0,  176,1,0
// дальше был тэг tagq2_07
TagQ2_08=Q(GG-1), sosn.CK2,Single, Объем за прошедший ГОД,      $0,  180,1,0


TagQ3_00=CT,    sosn      ,Single, Мгновенный расход м3/час,   $1,  16, 1,0
TagQ3_01=Q(HH),   sosn.CT,Single, Объем за текущий час,        $0,  184,1,0
TagQ3_02=Q(HH-1), sosn.CT,Single, Объем за прошедший час,      $0,  188,1,0
TagQ3_03=Q(DD),   sosn.CT,Single, Объем за текущие сутки,      $0,  192,1,0
TagQ3_04=Q(DD-1), sosn.CT,Single, Объем за прошедшие сутки,    $0,  196,1,0
TagQ3_05=Q(MM),   sosn.CT,Single, Объем за текущий месяц,      $0,  200,1,0
TagQ3_06=Q(MM-1), sosn.CT,Single, Объем за прошедший месяц,    $0,  204,1,0
TagQ3_07=Q(GG),   sosn.CT,Single, Объем за текущий ГОД,        $0,  208,1,0
//TagQ3_08=Q(GG-1), sosn.CT,Single, Объем за прошедший ГОД,      $0,  208,1,0

TagQ4_00=Cpr,    sosn      ,Single, Мгновенный расход м3/час,   $1,  20, 1,0
TagQ4_01=Q(HH),   sosn.Cpr,Single, Объем за текущий час,        $0,  212,1,0
TagQ4_02=Q(HH-1), sosn.Cpr,Single, Объем за прошедший час,      $0,  216,1,0
TagQ4_03=Q(DD),   sosn.Cpr,Single, Объем за текущие сутки,      $0,  220,1,0
TagQ4_04=Q(DD-1), sosn.Cpr,Single, Объем за прошедшие сутки,    $0,  224,1,0
TagQ4_05=Q(MM),   sosn.Cpr,Single, Объем за текущий месяц,      $0,  228,1,0
TagQ4_06=Q(MM-1), sosn.Cpr,Single, Объем за прошедший месяц,    $0,  232,1,0
TagQ4_07=Q(GG),   sosn.Cpr,Single, Объем за текущий ГОД,        $0,  236,1,0
//TagQ4_08=Q(GG-1), sosn.Cpr,Single, Объем за прошедший ГОД,      $0,  236,1,0


