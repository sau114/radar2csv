[Settings]
Name=ctp7
Address=1
PeriodMain=0 //
//PeriodMain=0
BreakMain=0
//BreakMain=0
PeriodRezerv=0
BreakRezerv=0
Description=ЦТП7
MaxErrors=5
BufferWriteDelay=0
NBTimeout=15

//Name= Type(R/W), [LinkFlag], [LinkMask], Descr, Period(s), Func, [Param1, Param2, ...]
[NetBios]
// данные измерений
//        0,1,1,0,25
//        | | | | |
//        | | | | |
//        | | | | +----- число параметров
//        | | | |
//        | | | +------- смещение
//        | | |
//        | | +--------- № таблицы
//        | +----------- № параметра
//        +------------- № архива
//№ архива:
// 1 - интегральные
// 2 - средние
// 3 - счетчики
// 4 - дискретн. события
// 5 - время включения дискретного переметра

//коды функций:
// &h40 - чтение ИНР
// &h00 - установка входа Алгоблока
// &h10 - чтение архива
// &h11 - чтение часов
// &h12 - установка часов
$0=     R, ,,Чтение Inr1,   0,         &h40,  0
$1=     R, ,,Чтение Inr2,   0,         &h40,  1
$2=     W, ,,Управление,    0,         &h00,  2

$5=     R, ,,Чтение таймера/календаря,       0,       &h11
$6=     W, ,,Установка таймера/календаря,    0,       &h12

$7=     W, ,,Управление,    0,         &h00,  6
$8=     R, ,,Чтение Inr3,   0,         &h40,  2
$9=     R, ,,Чтение Inr4,   0,         &h40,  3

//----------------- Archives -----------------------------------------
$TH1_0=     R, ,,Наработка НА1(0-24),         0,       &h10,  5,1,1,0,25
//$TH1_25=    R, ,,Наработка НА1(25-50),        0,       &h10,  5,1,1,25,25

$TH2_0=     R, ,,Наработка НА2(0-24),         0,       &h10,  5,2,1,0,25
//$TH2_25=    R, ,,Наработка НА2(25-50),        0,       &h10,  5,2,1,25,25

$TH3_0=     R, ,,Наработка НА3(0-24),         0,       &h10,  5,3,1,0,25
//$TH3_25=    R, ,,Наработка НА3(25-50),        0,       &h10,  5,3,1,25,25

$TH4_0=     R, ,,Наработка НА4(0-24),         0,       &h10,  5,4,1,0,25
//$TH4_25=    R, ,,Наработка НА4(25-50),        0,       &h10,  5,4,1,25,25

$SH1_0=     R, ,,Среднее (0-24),         0,       &h10,  2,1,1,0,25
//$SH1_25=    R, ,,Среднее (25-50),        0,       &h10,  2,1,1,25,25
$SH2_0=     R, ,,Среднее (0-24),         0,       &h10,  2,2,1,0,25
//$SH2_25=    R, ,,Среднее (25-50),        0,       &h10,  2,2,1,25,25
$SH3_0=     R, ,,Среднее (0-24),         0,       &h10,  2,3,1,0,25
//$SH3_25=    R, ,,Среднее (25-50),        0,       &h10,  2,3,1,25,25
$SH4_0=     R, ,,Среднее (0-24),         0,       &h10,  2,4,1,0,25
//$SH4_25=    R, ,,Среднее (25-50),        0,       &h10,  2,4,1,25,25



//$DH1_0=     R, ,,События биты 0-7(0-24),         0,       &h10,  4,1,1,0,25
//$DH1_25=    R, ,,События биты 0-7(25-49),        0,       &h10,  4,1,1,25,25
//$DH1_50=    R, ,,События биты 0-7(50-74),      0,       &h10,  4,1,1,50,25
//$DH1_75=    R, ,,События биты 0-7(75-99),      0,       &h10,  4,1,1,75,25
//$DH1_100=   R, ,,События биты 0-7(100-124),    0,       &h10,  4,1,1,100,25
//$DH1_125=   R, ,,События биты 0-7(125-149),    0,       &h10,  4,1,1,125,25

$DH2_0=     R, ,,События биты 8-15(0-24),         0,       &h10,  4,2,1,0,25
//$DH2_25=    R, ,,События биты 8-15(25-49),        0,       &h10,  4,2,1,25,25
//$DH1_50=    R, ,,События биты 8-15(50-74),      0,       &h10,  4,1,1,50,25
//$DH1_75=    R, ,,События биты 8-15(75-99),      0,       &h10,  4,1,1,75,25
//$DH1_100=   R, ,,События биты 8-15(100-124),    0,       &h10,  4,1,1,100,25
//$DH1_125=   R, ,,События биты 8-15(125-149),    0,       &h10,  4,1,1,125,25

//%key%=(Mask1,Value1), (Mask2, Value2)
[Selectors]


//%key%=(TagName),[Parent],(Type),Description,InBuffer,InBufferOffset,[k,b],[Selector/BoolMask/NullZone],[OutBuffer, OutBufferOffset],[Default],[DefaultMin],[DefaultMax],[Hysteresis],[InType],[OutType],[LinkFlag],[LinkMask]
[Tags]
Tag000=Timer,    ctp7,Date,  Таймер/календарь,     $5, 0,,,,$6,0

Tag01=MZ_AI9,    ctp7,Single, Расход1 ,         $0,  0, 3,0,,,,,0, 200
Tag02=MZ_AI10,    ctp7,Single, Расход2,         $0,  4, 11,0,,,,,0, 200
Tag03=MZ_AI11,    ctp7,Single, Резерв AI11,     $0,  8, 1,0,,,,,0,100
Tag04=MZ_AI12,    ctp7,Single, Резерв AI12,     $0, 12, 1,0,,,,,0,100

Tag05=Tmk,       ctp7,Single, Температура на MK500,       $0, 16


//Tag12=MP_AI3 и AI5 канал АЦП поджарен

Tag10=MP_AI1,    ctp7,Single, Давление Pвх1 коллектор MP ,   $1, 0,  0.1,0,,,,,0, 100
Tag11=MP_AI2,    ctp7,Single, Давление Pвх2 коллектор MP ,   $1, 4,  0.1,0,,,,,0, 100
Tag12=MP_AI3,    ctp7,Single, Давление Pвых1 коллектор MP,   $1, 8,  0.16,0,,,,,0, 100
Tag13=MP_AI4,    ctp7,Single, Давление Pвых2 коллектор MP,   $1, 12, 0.16,0,,,,,0,100
Tag14=MP_AI5,    ctp7,Single, Давление Pвых1,                $1, 16, 1,0,,,,,0,100
Tag15=MP_AI6,    ctp7,Single, Давление Pвых1,                $1, 20, 1,0,,,,,0,100
Tag16=MP_AI7,    ctp7,Single, Температура машзал,            $1, 24, 1,0,,,,,0,100
Tag17=MP_AI8,    ctp7,Single, Резерв AI8,                    $1, 28, 1,0,,,,,0,100
Tag160=MPp_AI7,  ctp7,Single, Темп машзал -40+80,            $1, 96, 1,0,,,,,0,100



//Tag18=DI(32),    ctp7,Long,  Вход.C01-C32,                $0, 40

Tag19=MZ_DI1,        ctp7,Boolean, Готовность НА1,      $0, 20,,,&h01
Tag20=MZ_DI2,        ctp7,Boolean, Вкл. НА1,            $0, 24,,,&h01
Tag21=MZ_DI3,        ctp7,Boolean, Готовность НА2,      $0, 28,,,&h01
Tag22=MZ_DI4,        ctp7,Boolean, Вкл. НА2,            $0, 32,,,&h01
Tag23=MZ_DI5,        ctp7,Boolean, Готовность НА3,      $0, 36,,,&h01
Tag24=MZ_DI6,        ctp7,Boolean, Вкл. НА3,            $0, 40,,,&h01
Tag25=MZ_DI7,        ctp7,Boolean,Готовность НА4,       $0, 44,,,&h01
Tag26=MZ_DI8,        ctp7,Boolean,Вкл. НА4,             $0, 48,,,&h01

Tag27=MP_DI1,        ctp7,Boolean, Питание ПТК,      $1, 32,,,&h01
Tag28=MP_DI2,       ctp7,Boolean, АВР,               $1, 36,,,&h01
Tag29=MP_DI3,       ctp7,Boolean, Резерв,            $1, 40,,,&h01
Tag30=MP_DI4,       ctp7,Boolean, Резерв,            $1, 44,,,&h01
Tag31=MP_DI5,       ctp7,Boolean, Резерв,          $1, 48,,,&h01
Tag32=MP_DI6,       ctp7,Boolean, Резерв,          $1, 52,,,&h01
Tag33=MP_DI7,       ctp7,Boolean, Резерв,          $1, 56,,,&h01
Tag34=MP_DI8,       ctp7,Boolean, Резерв,          $1, 60,,,&h01

Tag35=MP_DI9,       ctp7,Boolean, РКФ1,          $1, 64,,,&h01
Tag36=MP_DI10,       ctp7,Boolean, РКФ2,         $1, 68,,,&h01
Tag37=MP_DI11,       ctp7,Boolean, Охрана,         $1, 72,,,&h01
Tag38=MP_DI12,       ctp7,Boolean, Пожар,         $1, 76,,,&h01
Tag39=MP_DI13,       ctp7,Boolean, Резерв,         $1, 80,,,&h01
Tag40=MP_DI14,       ctp7,Boolean, Резерв,         $1, 84,,,&h01
Tag41=MP_DI15,       ctp7,Boolean, Резерв,         $1, 88,,,&h01
Tag42=MP_DI16,       ctp7,Boolean, Резерв,         $1, 92,,,&h01

Tag55=N1(HH),    ctp7,Long, Мото/час за текущий час,      $8, 0, 1,0
Tag56=N1(HH-1),  ctp7,Long, Мото/час за прошедший час,    $8, 4, 1,0
Tag57=N1(DD),    ctp7,Long, Мото/час за текущие сутки,    $8, 8, 1,0
Tag58=N1(DD-1),  ctp7,Long, Мото/час за прошедшие сутки,  $8, 12, 1,0
Tag59=N1(MM),    ctp7,Long, Мото/час за текущий мес.,     $8, 16, 1,0
Tag60=N1(MM-1),  ctp7,Long, Мото/час за прошедший мес.,   $8, 20, 1,0
Tag61=N1(YY),    ctp7,Long, Мото/час за текущий год,      $8, 24, 1,0
Tag62=N1(YY-1),  ctp7,Long, Мото/час за прошедший год,    $8, 28, 1,0
//Tag63=N1(Q),     ctp7,Long, Мото/час всего,               $8, 76, 1,0

Tag64=N2(HH),    ctp7,Long, Мото/час за текущий час,      $8, 32, 1,0
Tag65=N2(HH-1),  ctp7,Long, Мото/час за прошедший час,    $8, 36, 1,0
Tag66=N2(DD),    ctp7,Long, Мото/час за текущие сутки,    $8, 40, 1,0
Tag67=N2(DD-1),  ctp7,Long, Мото/час за прошедшие сутки,  $8, 44, 1,0
Tag68=N2(MM),    ctp7,Long, Мото/час за текущий мес.,     $8, 48, 1,0
Tag69=N2(MM-1),  ctp7,Long, Мото/час за прошедший мес.,   $8, 52, 1,0
Tag70=N2(YY),    ctp7,Long, Мото/час за текущий год,      $8, 56, 1,0
Tag71=N2(YY-1),  ctp7,Long, Мото/час за прошедший год,    $8, 60, 1,0
//Tag72=N2(Q),     ctp7,Long, Мото/час всего,               $8, 76, 1,0

Tag73=N3(HH),    ctp7,Long, Мото/час за текущий час,      $8, 64, 1,0
Tag74=N3(HH-1),  ctp7,Long, Мото/час за прошедший час,    $8, 68, 1,0
Tag75=N3(DD),    ctp7,Long, Мото/час за текущие сутки,    $8, 72, 1,0
Tag76=N3(DD-1),  ctp7,Long, Мото/час за прошедшие сутки,  $8, 76, 1,0
Tag77=N3(MM),    ctp7,Long, Мото/час за текущий мес.,     $8, 80, 1,0
Tag78=N3(MM-1),  ctp7,Long, Мото/час за прошедший мес.,   $8, 84, 1,0
Tag79=N3(YY),    ctp7,Long, Мото/час за текущий год,      $8, 88, 1,0
Tag80=N3(YY-1),  ctp7,Long, Мото/час за прошедший год,    $8, 92, 1,0
//Tag81=N3(Q),     ctp7,Long, Мото/час всего,               $8, 112, 1,0

Tag82=N4(HH),    ctp7,Long, Мото/час за текущий час,      $8, 96, 1,0
Tag83=N4(HH-1),  ctp7,Long, Мото/час за прошедший час,    $8, 100, 1,0
Tag84=N4(DD),    ctp7,Long, Мото/час за текущие сутки,    $8, 104, 1,0
Tag85=N4(DD-1),  ctp7,Long, Мото/час за прошедшие сутки,  $8, 108, 1,0
Tag86=N4(MM),    ctp7,Long, Мото/час за текущий мес.,     $8, 112, 1,0
Tag87=N4(MM-1),  ctp7,Long, Мото/час за прошедший мес.,   $8, 116, 1,0
Tag88=N4(YY),    ctp7,Long, Мото/час за текущий год,      $8, 120, 1,0
Tag89=N4(YY-1),  ctp7,Long, Мото/час за прошедший год,    $8, 124, 1,0
//Tag90=N4(Q),     ctp7,Long, Мото/час всего,               $8, 32, 1,0

Tag91=N1S(DD),    ctp7,Single, Мото/час за текущие сутки,    $8, 132, 1,0
Tag92=N1S(DD-1),  ctp7,Single, Мото/час за прошедшие сутки,  $8, 136, 1,0
Tag93=N1S(MM),    ctp7,Single, Мото/час за текущий мес.,     $8, 140, 1,0
Tag94=N1S(MM-1),  ctp7,Single, Мото/час за прошедший мес.,   $8, 144, 1,0
Tag95=N1S(YY),    ctp7,Single, Мото/час за текущий год,      $8, 148, 1,0
Tag96=N1S(YY-1),    ctp7,Single, Мото/час за прошедший год,  $8, 152, 1,0
Tag97=N2S(DD),    ctp7,Single, Мото/час за текущие сутки,    $8, 160, 1,0 
Tag98=N2S(DD-1),  ctp7,Single, Мото/час за прошедшие сутки,  $8, 164, 1,0
Tag99=N2S(MM),    ctp7,Single, Мото/час за текущий мес.,     $8, 168, 1,0
Tag100=N2S(MM-1),  ctp7,Single, Мото/час за прошедший мес.,   $8, 172, 1,0
Tag101=N2S(YY),    ctp7,Single, Мото/час за текущий год,      $8,176, 1,0
Tag102=N2S(YY-1),    ctp7,Single, Мото/час за прошедший год,  $8, 180, 1,0

Tag103=N3S(DD),    ctp7,Single, Мото/час за текущие сутки,    $8, 188, 1,0
Tag104=N3S(DD-1),  ctp7,Single, Мото/час за прошедшие сутки,  $8, 192, 1,0
Tag105=N3S(MM),    ctp7,Single, Мото/час за текущий мес.,     $8, 196,  1,0
Tag106=N3S(MM-1),  ctp7,Single, Мото/час за прошедший мес.,   $8, 200, 1,0
Tag107=N3S(YY),    ctp7,Single, Мото/час за текущий год,      $8, 204, 1,0
Tag108=N3S(YY-1),    ctp7,Single, Мото/час за прошедший год,  $8, 208, 1,0

Tag109=N4S(DD),    ctp7,Single, Мото/час за текущие сутки,    $8, 216, 1,0
Tag110=N4S(DD-1),  ctp7,Single, Мото/час за прошедшие сутки,  $8, 220, 1,0
Tag111=N4S(MM),    ctp7,Single, Мото/час за текущий мес.,     $8, 224,  1,0
Tag112=N4S(MM-1),  ctp7,Single, Мото/час за прошедший мес.,   $8, 228, 1,0
Tag113=N4S(YY),    ctp7,Single, Мото/час за текущий год,      $8, 232, 1,0
Tag114=N4S(YY-1),    ctp7,Single, Мото/час за прошедший год,   $8, 236, 1,0

TagP1_00=P1_IN1 , ctp7       , Single, Давление Вход 1,                 $1,   0,  0.1,0,,,,,0,10
TagP1_01=P(HH)  , ctp7.P1_IN1, Single, Давление за текущий час     ,    $0,   60,  0.1,0
TagP1_02=P(HH-1), ctp7.P1_IN1, Single, Давление за прошедший час   ,    $0,   64,  0.1,0

TagP2_00=P2_IN2 ,ctp7      , Single, Давление Вход 2,                   $1,   4,  0.1,0,,,,,0,10
TagP2_01=P(HH)  , ctp7.P2_IN2, Single, Давление за текущий час     ,    $0,   68,  0.1,0
TagP2_02=P(HH-1), ctp7.P2_IN2, Single, Давление за прошедший час   ,    $0,   72,  0.1,0

TagP3_00=P3_OUT1 , ctp7       , Single, Давление Выход 1,                $1,   8, 0.16,0,,,,,0,10
TagP3_01=P(HH)  , ctp7.P3_OUT1, Single, Давление за текущий час     ,    $0,   76,  0.16,0
TagP3_02=P(HH-1), ctp7.P3_OUT1, Single, Давление за прошедший час   ,    $0,   80,  0.16,0 
 
TagP4_00=P4_OUT2 , ctp7       , Single, Давление Выход 2,                $1,   12,  0.16,0,,,,,0,10
TagP4_01=P(HH)  , ctp7.P4_OUT2, Single, Давление за текущий час     ,    $0,   84,  0.16,0
TagP4_02=P(HH-1), ctp7.P4_OUT2, Single, Давление за прошедший час   ,    $0,   88,  0.16,0 

// ModBus Wilo

TagMB0=A0_DI1,       ctp7,Boolean, управл в авт НА1,      $9, 0,,,&h01
TagMB1=A0_DI2,       ctp7,Boolean, управл в авт НА2,      $9, 4,,,&h01
TagMB2=A0_DI3,       ctp7,Boolean, управл в авт НА3,      $9, 8,,,&h01
TagMB200=A0_DI4,     ctp7,Boolean, управл в авт НА4,      $9, 12,,,&h01

TagMB3=A3_DI12,       ctp7,Boolean, wilo в работе,         $9, 16,,,&h01
TagMB4=A3_DI13,       ctp7,Boolean, wilo?,                 $9, 20,,,&h01
TagMB5=A3_DI14,       ctp7,Boolean, wilo авария,           $9, 24,,,&h01
TagMB6=A3_DI15,       ctp7,Boolean, wilo гот к автом,      $9, 28,,,&h01
TagMB7=A3_DI16,      ctp7,Boolean, wilo в ручном режиме,  $9, 32,,,&h01

TagMB8=MB_NET,       ctp7,Boolean, Ошибка MB,             $9, 36,,,&h01

TagMB9=A1_DI1,       ctp7,Boolean, неисправность НА1,      $9, 68,,,&h01
TagMB10=A1_DI2,       ctp7,Boolean, неисправность НА2,     $9, 72,,,&h01
TagMB11=A1_DI3,      ctp7,Boolean, неисправность НА3,      $9, 76,,,&h01
TagMB9_=A1_DI4,     ctp7,Boolean, неисправность НА4,      $9, 80,,,&h01
//TagMB10=A1_DI5,    ctp7,Boolean, неисправность НА5,     $9, 84,,,&h01
//TagMB11=A1_DI6,    ctp7,Boolean, неисправность НА6,     $9, 88,,,&h01

TagMB12=A1_DI9,        ctp7,Boolean, работа НА1,            $9, 100,,,&h01
TagMB13=A1_DI10,       ctp7,Boolean, работа НА2,            $9, 104,,,&h01
TagMB14=A1_DI11,       ctp7,Boolean, работа НА3,            $9, 108,,,&h01
TagMB15=A1_DI12,       ctp7,Boolean, работа НА4,            $9, 112,,,&h01
//TagMB16=A1_DI13,       ctp7,Boolean, работа НА5,            $9, 116,,,&h01
//TagMB17=A1_DI14,       ctp7,Boolean, работа НА6,            $9, 120,,,&h01



// ModBus NA1 adr16


TagMB18=A16_DI10,       ctp7,Boolean, работа НА1 ручн,        $9, 172,,,&h01
TagMB19=A16_DI11,       ctp7,Boolean, работа НА1 рег f,       $9, 176,,,&h01
TagMB20=A16_DI12,       ctp7,Boolean, работа НА1 ,            $9, 180,,,&h01
TagMB21=A16_DI13,       ctp7,Boolean, работа НА1 автом,       $9, 184,,,&h01
TagMB22=A16_DI14,       ctp7,Boolean,  НА1 ошибка,            $9, 188,,,&h01
TagMB23=A16_DI15,       ctp7,Boolean, контроллер НА1 гот,       $9, 192,,,&h01
TagMB24=A16_DI16,       ctp7,Boolean, контроллер НА1 раб,       $9, 196,,,&h01


// ModBus NA2 adr32


TagMB25=A32_DI10,      ctp7,Boolean, работа НА2 ручн,        $9, 116,,,&h01
TagMB26=A32_DI11,      ctp7,Boolean, работа НА2 рег f,       $9, 120,,,&h01
TagMB27=A32_DI12,      ctp7,Boolean, работа НА2 ,            $9, 124,,,&h01
TagMB28=A32_DI13,      ctp7,Boolean, работа НА2 автом,       $9, 128,,,&h01
TagMB29=A32_DI14,      ctp7,Boolean,  НА2 ошибка,            $9, 132,,,&h01
TagMB30=A32_DI15,      ctp7,Boolean, контроллер НА2 гот,       $9, 136,,,&h01
TagMB31=A32_DI16,      ctp7,Boolean, контроллер НА2 раб,       $9, 140,,,&h01


// ModBus NA3 adr48


TagMB32=A48_DI10,      ctp7,Boolean, работа НА3 ручн,        $9, 144,,,&h01
TagMB33=A48_DI11,      ctp7,Boolean, работа НА3 рег f,       $9, 148,,,&h01
TagMB34=A48_DI12,      ctp7,Boolean, работа НА3 ,            $9, 152,,,&h01
TagMB35=A48_DI13,      ctp7,Boolean, работа НА3 автом,       $9, 156,,,&h01
TagMB36=A48_DI14,      ctp7,Boolean,  НА3 ошибка,            $9, 160,,,&h01
TagMB37=A48_DI15,      ctp7,Boolean, контроллер НА3 гот,     $9, 164,,,&h01
TagMB38=A48_DI16,      ctp7,Boolean, контроллер НА3 раб,     $9, 168,,,&h01



TagMB39=A4_PK,    ctp7, Single, Давление выходной коллектор ,    $9,  208, 1,0,,,,,0,10


TagMB40=A17_fN1,     ctp7,Single, частота НА1,            $9, 44,,,&h01
TagMB41=A33_fN2,     ctp7,Single, частота НА2,            $9, 52,,,&h01
TagMB42=A49_fN3,     ctp7,Single, частота НА3,            $9, 60,,,&h01
TagMB43=A65_fN3,     ctp7,Single, частота НА4,            $9, 64,,,&h01



// ModBus NA4 adr64


TagMB44=A64_DI10,      ctp7,Boolean, работа НА4 ручн,        $9, 244,,,&h01
TagMB45=A64_DI11,      ctp7,Boolean, работа НА4 рег f,       $9, 248,,,&h01
TagMB46=A64_DI12,      ctp7,Boolean, работа НА4 ,            $9, 252,,,&h01
TagMB47=A64_DI13,      ctp7,Boolean, работа НА4 автом,       $9, 256,,,&h01
TagMB48=A64_DI14,      ctp7,Boolean,  НА4 ошибка,            $9, 260,,,&h01
TagMB49=A64_DI15,      ctp7,Boolean, контроллер НА4 гот,     $9, 264,,,&h01
TagMB50=A64_DI16,      ctp7,Boolean, контроллер НА4 раб,     $9, 268,,,&h01





